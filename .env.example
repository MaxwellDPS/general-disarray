# ===================
# SIP Configuration
# ===================
SIP_USER=ai-assistant
SIP_PASSWORD=
SIP_DOMAIN=localhost
SIP_PORT=5060
SIP_TRANSPORT=udp
# SIP_REGISTRAR=sip:your-registrar.example.com

# ===================
# Audio Configuration
# ===================
# Speech detection timing
MIN_SPEECH_DURATION_MS=200
MAX_SPEECH_DURATION_S=10.0
SILENCE_TIMEOUT_MS=750

# Barge-in settings
BARGE_IN_MIN_DURATION=400
BARGE_IN_ENERGY_THRESHOLD=2000

# ===================
# Speaches API (Unified STT + TTS)
# ===================
SPEACHES_API_URL=http://localhost:8001

# STT Mode: "realtime" (WebSocket streaming) or "batch" (file upload)
# NOTE: Realtime mode requires Speaches v0.8.0+ with stable realtime API.
# Default to batch mode for stability. Realtime may have lower latency but is less stable.
STT_MODE=batch

# Whisper model for STT
WHISPER_MODEL=Systran/faster-distil-whisper-small.en
WHISPER_LANGUAGE=en

# TTS settings (Piper/Kokoro via Speaches)
TTS_MODEL=speaches-ai/Kokoro-82M-v1.0-ONNX
TTS_VOICE=af_heart
TTS_RESPONSE_FORMAT=wav
TTS_SPEED=1.0

# ===================
# API Retry Configuration
# ===================
API_RETRY_ATTEMPTS=3
API_RETRY_BASE_DELAY_S=0.5
API_RETRY_MAX_DELAY_S=5.0
API_TIMEOUT_S=30.0

# ===================
# LLM Configuration
# ===================
LLM_BACKEND=vllm
LLM_MODEL=openai-community/gpt2-xl
LLM_BASE_URL=http://vllm:8000/v1
LLM_API_KEY=not-needed

# Generation parameters
LLM_MAX_TOKENS=512
LLM_TEMPERATURE=0.6
LLM_TOP_P=0.85
MAX_CONVERSATION_TURNS=10

# ===================
# Tools Configuration
# ===================
# Callback settings
CALLBACK_RING_TIMEOUT=30

# Tempest Weather API
TEMPEST_STATION_ID=
TEMPEST_API_TOKEN=

# ===================
# Redis (for call queue)
# ===================
REDIS_URL=redis://localhost:6379/0
# REDIS_PASSWORD=your-secure-password
# REDIS_SSL=true

# ===================
# Observability
# ===================
LOG_LEVEL=INFO

# OpenTelemetry
OTEL_ENABLED=true
OTEL_EXPORTER_OTLP_ENDPOINT=http://otel-collector:4317
OTEL_SERVICE_NAME=sip-agent
OTEL_RESOURCE_ATTRIBUTES=deployment.environment=production

# ===================
# System
# ===================
DATA_DIR=./data

# ===================
# Phrases Configuration
# ===================
# Customize the assistant's pre-generated phrases
# Use JSON array format or comma-separated values
# Or create a phrases.json file in DATA_DIR

# Greetings - played when call is answered
# PHRASES_GREETINGS=["Hello! How can I help?","Hi there!","Hey! What do you need?"]

# Goodbyes - played when ending call
# PHRASES_GOODBYES=["Goodbye!","Take care!","Have a great day!"]

# Acknowledgments - quick responses while processing
# PHRASES_ACKNOWLEDGMENTS=["Okay.","Got it.","One moment.","Sure."]

# Thinking - played while waiting for LLM response
# PHRASES_THINKING=["Let me check.","One moment.","Working on it."]

# Errors - played when speech not understood
# PHRASES_ERRORS=["Sorry, I didn't catch that.","Could you repeat that?"]

# Follow-ups - played after completing a task
# PHRASES_FOLLOWUPS=["Anything else?","Can I help with anything else?"]

# Extra phrases to pre-cache for faster playback
# PHRASES_PRECACHE=["Hello","Goodbye","Yes","No","Thank you"]
